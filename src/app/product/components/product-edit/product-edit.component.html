<div *ngIf="product$ | async as product" class="product-edit-container">
  <h1>Edit product: {{ product.id }}</h1>
  <div class="product-image">
    <img src="{{ product.image }}" alt="product image {{product.id}}"/>
  </div>
  <form [formGroup]="editForm" class="edit-product" (ngSubmit)="onSubmit()">
    <label for="title">Title:</label>
    <input id="title" type="text" formControlName="title"/>
    <label for="price">Price:</label>
    <input id="price" type="text" formControlName="price" />
    <div *ngIf="price?.invalid && (price?.dirty || price?.touched)">
      <div class="error-message" *ngIf="price?.hasError('required')">Price is required</div>
      <div class="error-message" *ngIf="price?.hasError('min')">Price must be greater than 0</div>
      <div class="error-message" *ngIf="price?.hasError('pattern')">Price must be a number</div>
    </div>
    <label for="image">Image:</label>
    <input id="image" type="text" formControlName="image" />
    <label for="stock">Stock:</label>
    <input id="stock" type="text" formControlName="stock" />
    <div *ngIf="stock?.invalid && (stock?.dirty || stock?.touched)">
      <div class="error-message" *ngIf="stock?.hasError('required')">Price is required</div>
      <div class="error-message" *ngIf="stock?.hasError('min')">Price must be greater than 0</div>
      <div class="error-message" *ngIf="stock?.hasError('pattern')">Price must be an integer</div>
    </div>
    <label for="description">Description:</label>
    <textarea id="description" formControlName="description"></textarea>
    <button type="submit">Save</button>
  </form>
</div>
